# 音声文字起こし・スコーピング方式の比較検証レポート

**実施日**: 2026/01/22  
**目的**: 動画冒頭5分のスコーピング処理を高速化するため、最適な音声文字起こしモデルを選定する。
**要件**:
1. 処理速度が速いこと（Geminiの動画解析よりも高速であること）
2. 「冒頭の無音/ノイズ」に対して堅牢であること（ハルシネーションを起こさない）
3. 話者分離ができれば尚良し

## 比較結果サマリ

| 方式 | モデル | 処理時間 (目安) | コスト (5分) | ハルシネーション | 判定 |
|------|--------|-----------------|--------------|------------------|------|
| **Baseline** | Gemini 1.5 Flash (音声のみ) | 17.0秒 | 低 | ✅ なし | 🥈 保留 (遅くはないが最速ではない) |
| **OpenAI** | **gpt-4o-transcribe** | **10.9秒** | $0.03 | ✅ **なし** | 🥇 **採用** |
| **OpenAI** | whisper-1 | 9.1秒 | $0.03 | 🚨 あり (重度) | ❌ 不可 |
| **Groq** | whisper-large-v3 | **1.9秒** | **$0.009** | 🚨 あり (中度) | ❌ 不可 (リスク高) |
| **Groq** | whisper-large-v3-turbo | **1.4秒** | **$0.003** | 🚨 あり (中度) | ❌ 不可 (リスク高) |

## 詳細分析

### 1. ハルシネーション問題 (Whisper系の弱点)
Whisper系モデル（OpenAI whisper-1, Groq各モデル）は、冒頭の無音やノイズ区間において、「ご視聴ありがとうございました」「ご清聴ありがとうございました」といったフレーズを無限に繰り返すハルシネーションが発生しました。
- **対策試行**: プロンプト（`prompt="会議の議事録です..."`）や `temperature` 調整を行いましたが、完全には防げませんでした。
- **gpt-4o-transcribeの優位性**: OpenAIの `gpt-4o-transcribe` はこの問題を内部的に解決しているようで、特別な調整なしでも正確な文字起こしが可能でした。

### 2. 処理速度とコスト
- **Groq** は圧倒的に高速（1秒台）かつ低コストですが、上記のハルシネーション問題があるため、現時点では採用リスクが高いです。
- **gpt-4o-transcribe** は約10秒と十分に高速であり、安定性を考慮するとベストバランスです。

## 結論
**「OpenAI `gpt-4o-transcribe`」を採用します。**
速度、精度、安定性のバランスが最も良く、実装コストも低いためです。

---

## 再現手順

このディレクトリに含まれるスクリプト (`experiment_groq.py` 等) を VS Code の Interactive Window で実行することで、検証を再現できます。
